{% extends "base.html" %}

{% block jsscript %}
  <script
  src="{{ url_for('static', filename='js/index.js') }}"
  type="module"
  ></script>
{% endblock %}


{% block content %}

    <h1 class="h1">Budget Tracker</h1 class="h1">

    <form action="/" method="post">
        <div class="mb-3">
          <label for="date" class="form-label">Date</label>
          <input type="date" class="form-control" id="date" name="date">
        </div>
        
        <div class="mb-3">
            <label for="type_id" class="form-label">Rodzaj</label>
            <select class="form-select" aria-label="Default select example" id="type_id" name="type_id">
              {% for type in types %}
                <option value={{ type.id }}>{{ type.name_pl}}</option>
              {% endfor %}
              
              </select>
        </div>

        <div class="mb-3">
            <label for="category" class="form-label">Kategoria</label>
            <select class="form-select" aria-label="Default select example" id="category" name="category">
              {% for cat in categories %}
                <option value={{ cat.id }}>{{ cat.name_pl }}</option>
              {% endfor %}
              </select>
        </div>

        <div class="mb-3">
            <label for="subcategory" class="form-label">Podkategoria</label>
            <select class="form-select" aria-label="Default select example" id="subcategory" name="subcategory">
              {% for subcat in subcategories %}
                <option value={{ subcat.id }}>{{ subcat.name_pl }}</option>
              {% endfor %}
              </select>
        </div>


        <div class="mb-3">
            <label for="amount" class="form-label">Kwota</label>
            <input type="number" step="0.01" value="0"  class="form-control" id="amount" name="amount">
        </div>
        <div class="mb-3">
            <label for="comment" class="form-label">Komentarz</label>
            <input type="text" class="form-control" id="comment" name="comment">
        </div>
        <div class="mb-3">
            <label for="shop" class="form-label">Sklep</label>
            <input type="text" class="form-control" id="shop" name="shop">
        </div>
        <div class="mb-3">
            <label for="connection" class="form-label">Powiązanie</label>
            <input type="text" class="form-control" id="connection" name="connection">
        </div>

        <button type="submit" class="btn btn-primary">Prześlij</button>
      </form>

    {% if is_added == True %}
      <span> {{ feedback }} </span>

      <div>
            <h3>Nowo dodane ID</h3>
          {% for incexp in new_incexp %}

          <span>{{ incexp.id }} {{ incexp.category }} {{ incexp.subcategory }} {{ incexp.amount }}</span><br>
          {% endfor %}

          
        </div>
    {% endif %}


{% endblock %}